---
description: Guide to changes in version 6 of Plotly.py and how to migrate from version 5
display_as: file_settings
language: python
layout: base
name: Changes in Version 6
order: 8
page_type: example_index
permalink: python/v6-migration/
thumbnail: thumbnail/v4-migration.png
---

{% raw %}
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This page outlines the changes in Plotly.py version 6 and cases where you may need to update your charts or tools that you use for working with Plotly.py.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Jupyter-Notebook-Support">Jupyter Notebook Support<a class="anchor-link" href="#Jupyter-Notebook-Support">&#182;</a></h2><p>Versions of Jupyter Notebook earlier than version 7 are no longer supported. To upgrade to the latest Jupyter Notebook:</p>

<pre><code>pip install notebook --upgrade</code></pre>
<h2 id="Change-to-anywidget-for-go.FigureWidget">Change to anywidget for go.FigureWidget<a class="anchor-link" href="#Change-to-anywidget-for-go.FigureWidget">&#182;</a></h2><p><a href="https://plotly.com/python/figurewidget/">go.FigureWidget</a> now uses <a href="https://anywidget.dev/">anywidget</a>. Install <code>anywidget</code> with:</p>
<div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">anywidget</span>
</pre></div>
<h2 id="Processing-NumPy-and-NumPy-Convertible-Arrays">Processing NumPy and NumPy-Convertible Arrays<a class="anchor-link" href="#Processing-NumPy-and-NumPy-Convertible-Arrays">&#182;</a></h2><p>Plotly.py now takes advantage of recent changes in how Plotly.js handles typed arrays for improved performance. See the <a href="https://plotly.com/python/performance/">performance page</a> for more details.</p>
<h2 id="Dataframe-Support">Dataframe Support<a class="anchor-link" href="#Dataframe-Support">&#182;</a></h2><p>Plotly Express now uses <a href="https://narwhals-dev.github.io/narwhals/">Narwhals</a> to natively support pandas, Polars, and PyArrow. With this change, the <a href="https://plotly.com/python/performance/">performance</a> of using Polars or PyArrow with Plotly Express is significantly improved.</p>
<h2 id="Mapbox-Deprecation">Mapbox Deprecation<a class="anchor-link" href="#Mapbox-Deprecation">&#182;</a></h2><p>Mapbox-based traces are deprecated and will be removed in a future version of Plotly.py. Use <a href="https://plotly.com/python/mapbox-to-maplibre/">Maplibre-based</a> traces instead.</p>
<h2 id="Removed-Attributes">Removed Attributes<a class="anchor-link" href="#Removed-Attributes">&#182;</a></h2><p>The following attributes have been removed in Plotly.py 6.</p>
<h3 id="titlefont,titleposition,-titleside,-and-titleoffset"><code>titlefont</code>,<code>titleposition</code>, <code>titleside</code>, and <code>titleoffset</code><a class="anchor-link" href="#titlefont,titleposition,-titleside,-and-titleoffset">&#182;</a></h3><p>The layout attributes <code>titlefont</code>,<code>titleposition</code>, <code>titleside</code>, and <code>titleoffset</code> have been removed. Replace them with <code>title.font</code>, <code>title.position</code>, <code>title.side</code>, and <code>title.offset</code>.</p>
<p>The following example shows how to use <code>layout.title.font</code>:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="p">[</span>
      <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">17</span><span class="p">]</span>
        <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">layout</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
      <span class="n">title</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Chart Title&quot;</span><span class="p">,</span>
        <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
          <span class="n">size</span><span class="o">=</span><span class="mi">40</span>
          <span class="p">)</span>
        <span class="p">)</span>
      <span class="p">),</span>
    <span class="c1"># Previously the title font could be set like this:</span>
    <span class="c1"># titlefont=dict(size=40)</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<h2 id="Removed-Traces">Removed Traces<a class="anchor-link" href="#Removed-Traces">&#182;</a></h2><p>The following traces have been removed.</p>
<h3 id="heatmapgl"><code>heatmapgl</code><a class="anchor-link" href="#heatmapgl">&#182;</a></h3><p>The <code>heatmapgl</code> trace has been removed. Use <a href="/python/heatmaps/"><code>heatmap</code></a> instead.</p>
<h3 id="pointcloud"><code>pointcloud</code><a class="anchor-link" href="#pointcloud">&#182;</a></h3><p>The <code>pointcloud</code> trace has been removed. Use <a href="/python/reference/scattergl/"><code>scattergl</code></a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Other-Removed-Features">Other Removed Features<a class="anchor-link" href="#Other-Removed-Features">&#182;</a></h2><h3 id="Transforms">Transforms<a class="anchor-link" href="#Transforms">&#182;</a></h3><p>Transforms, which were deprecated in Plotly.py v5, have been removed. You can achieve similar functionality by preprocessing the data with a dataframe library.</p>
<p>For example, a transform to filter the data:</p>
<div class="highlight"><pre><span></span><span class="nb">dict</span><span class="p">(</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;filter&#39;</span><span class="p">,</span>
    <span class="n">target</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span>
    <span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span>
    <span class="n">value</span> <span class="o">=</span> <span class="mi">2007</span>
  <span class="p">),</span>
</pre></div>
<p>Could be rewritten using Pandas:</p>
<div class="highlight"><pre><span></span><span class="n">df_2007</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2007</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="What-About-Dash?">What About Dash?<a class="anchor-link" href="#What-About-Dash?">&#182;</a></h3><p><a href="https://dash.plot.ly/">Dash</a> is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library.</p>
<p>Learn about how to install Dash at <a href="https://dash.plot.ly/installation">https://dash.plot.ly/installation</a>.</p>
<p>Everywhere in this page that you see <code>fig.show()</code>, you can display the same figure in a Dash application by passing it to the <code>figure</code> argument of the <a href="https://dash.plot.ly/dash-core-components/graph"><code>Graph</code> component</a> from the built-in <code>dash_core_components</code> package like this:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span> <span class="c1"># or plotly.express as px</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span> <span class="c1"># or any Plotly Express function e.g. px.bar(...)</span>
<span class="c1"># fig.add_trace( ... )</span>
<span class="c1"># fig.update_layout( ... )</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">dash</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dash</span><span class="p">,</span> <span class="n">dcc</span><span class="p">,</span> <span class="n">html</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Dash</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span>
    <span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="p">])</span>

<span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_reloader</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Turn off reloader if inside Jupyter</span>
</pre></div>

</div>
</div>
</div>

 


{% endraw %}